# 2026-02-12 (목)

## Workspace 재구조화
**문제**: 기존 workspace가 personal과 business 작업이 섞여 있어서 관리 어려움

**해결책**: 명확한 폴더 구조 정립
```
workspace/
├── business/
│   ├── roturn/          # 로턴 블로그 + 관련 작업
│   │   ├── blog/
│   │   ├── roturn-blog-drafts/
│   │   └── roturn-blog-drafts-v2/
│   └── koreacryo/       # KoreaCryo 리뉴얼 + 프로토타입
│       ├── kcryo-preview/
│       └── koreacryo-prototype/
│
├── personal/
│   └── investment/      # 투자 분석 리포트 (모든 .md 파일)
│
└── memory/              # 일일 로그
```

**작업 내용**:
- 기존 파일 335개 이동
- business/roturn/ - 로턴 블로그 관련 모든 파일
- business/koreacryo/ - KoreaCryo 웹사이트 프로토타입
- personal/investment/ - 투자 분석 리포트 14개 파일

**원칙 확립**:
- 회사 관련 작업 = business/
- 개인 작업 = personal/
- 앞으로 모든 새 작업은 이 구조 준수

**Git commit**: 
- 7a175df "Re-structure workspace: business vs personal separation"
- MEMORY.md 업데이트 완료

## Telegram Group Setup (이전 작업)
- Roturn Blog 그룹 생성 완료 (ID: -5177383418)
- Gateway config 수정: groupPolicy "open" with allowFrom Chris only
- 남은 작업: KoreaCryo 리뉴얼, 투자 분석, 회사 운영 그룹 생성 예정

## 리빙 README 작성
**목표**: 파일이 리빙파일이 되도록 - 단순 아카이브 X, 지속 업데이트되는 문서

**생성한 파일**:
- `business/roturn/README.md` - 로턴 블로그 프로젝트 현황
- `business/koreacryo/README.md` - KoreaCryo 리뉴얼 현황
- `personal/investment/README.md` - 투자 분석 리포트 인덱스

**각 README 포함 내용**:
- 현재 상태 (진행중/보류/완료)
- 완료된 작업 체크리스트
- 다음 스텝
- 파일 구조
- 핵심 원칙/참고사항

**원칙**:
- 작업할 때마다 README 업데이트
- 주기적 리뷰로 구조 개선
- 오래된 파일 정리/아카이브

**Git commit**: 7fea5e7 "Add living READMEs for all major projects"

## OpenClaw 성능 튜닝
**배경**: Chris 요청으로 config 전반 점검 및 성능 최적화

**분석한 항목**:
1. Context Pruning (30m cache-ttl) - 유지
2. Compaction (140K → 150K)
3. Heartbeat (30m → 1h)
4. Max Concurrent (4/8) - 유지

**적용한 변경**:
```json
{
  "compaction": {
    "reserveTokensFloor": 150000  // 140K → 150K
  },
  "heartbeat": {
    "every": "1h"  // 30m → 1h
  }
}
```

**효과**:
- 💰 Heartbeat 비용 50% 절감 (~$1.50 → ~$0.75/월)
- 🧠 긴 분석 작업 시 토큰 여유 +10K
- ⚡ 불필요한 API 호출 감소 (하루 48번 → 24번)

**재시작**: 2026-02-12 16:53 완료

## 컨텍스트 최적화 논의
**Chris 질문**: 봇/그룹별로 MD 파일을 분리해서 오버플로우 최적화 가능한가?

**현재 문제**:
- 모든 세션이 전체 workspace context 로드
- 로턴 그룹에서도 KoreaCryo/투자 파일 전부 컨텍스트에 포함
- 불필요한 토큰 소비

**Chris 아이디어**: 각 그룹/봇마다 담당 파일만 로드
- 로턴 그룹 → `business/roturn/` 만
- KoreaCryo 그룹 → `business/koreacryo/` 만
- 투자 그룹 → `personal/investment/` 만

**구현 방법 검토**:
1. **그룹별 Workspace 분리** - 각 에이전트마다 별도 workspace 설정 (복잡)
2. **조건부 컨텍스트 로딩** - AGENTS.md에 로직 추가 (효과 제한적)
3. **README 중심 + On-Demand** - README는 가볍게, 필요시 read로 로드 (현실적) ✅
4. **Subagent Spawn** - 작업별로 격리된 서브에이전트 실행 (고급)

**결론**:
- **아이디어는 맞음!** 다만 OpenClaw 구조상 완전 분리는 제한적
- **현재 전략**: README 가볍게 유지 + 필요 파일만 명시적 로드
- **향후**: 실제 오버플로우 발생 시 더 공격적 최적화
- 150K compaction floor로 당분간 여유 확보됨

**교훈**: 파일 구조는 물리적으로 분리했지만, 컨텍스트 로딩은 별개 문제. README 기반 접근이 현실적.

## 최적 솔루션 구현 (하이브리드 로딩)
**Chris 요청**: "뭐가 최적인지 알면 좋을듯" → 명확한 전략 수립 및 구현

**최종 전략**: 3단계 하이브리드 로딩
1. **Base context** (항상): SOUL, USER, IDENTITY, 오늘/어제 메모리 (~5-10K)
2. **Project context** (조건부): 그룹별 README.md만 로드 (~3-4K)
3. **On-demand** (필요시): 실제 작업 파일만 read 도구로 로드

**AGENTS.md 업데이트**:
- 그룹별 컨텍스트 규칙 추가
- 로턴 블로그 그룹 → roturn/README.md만
- KoreaCryo 그룹 → koreacryo/README.md만
- 투자 분석 그룹 → investment/README.md만
- 메인 DM → 전체 접근 (MEMORY.md 포함)
- 큰 작업 → sessions_spawn으로 독립 세션

**예상 효과**:
- 평균 컨텍스트 50-70% 절감
- 로턴 그룹: ~16K (기존 대비 60% 절감 예상)
- KoreaCryo 그룹: ~22K
- 투자 분석: ~27K
- 메인 DM: ~43K (전체 접근)

**Git commit**: a404749 "Add project-specific context loading rules for Telegram groups"

**핵심 원칙**:
- README는 항상 가볍게 유지 (요약만)
- 큰 파일/초안/아카이브는 절대 preload 하지 않음
- 50K 넘는 작업은 무조건 subagent spawn
- 컨텍스트는 자동 최적화, 수동 설정 불필요

**결과**: OpenClaw 구조적 한계 내에서 최대한 최적화 완료 ✅

## KoreaCryo 웹사이트 디자인 방향 논의
**Chris 고민**: "실제 제품이나 현장 사진을 추가하고 싶은데 예를 테슬라나 애플 사이트처럼..."

**현재 상황**:
- 현장사진 7개 보유 (image53~59)
- 가스엔지니어링 시공 현장 (image53~56)
- 바이오뱅크 시설 (image57~59)
- 품질: 3-4/10점 (현장 실무용 기록 수준)
- 조명: 산업용 형광등, 자연광 노출 제어 없음
- 구도: 스냅샷, 전문 프레이밍 없음

**Tesla/Apple 스타일 특징**:
- 스튜디오 조명, 깔끔한 배경, 제품 단독
- 완벽한 화이트 배경, 그림자 컨트롤, 고해상도
- 여백 많이, 큰 타이포그래피, 스크롤 애니메이션

**개선 옵션 제안**:
1. **AI 보정 + 레이아웃** (즉시, 저비용) - 60→75점
2. **제품 재촬영** (1주, 무료~$200) - 75→85점
3. **전문 사진작가** (2-4주, $1K~$3K) - 85→95점
4. **3D 렌더링** (1-2개월, $2K~$5K) - 95→100점

**추천 방향 (B2B 맥락)**:
- 현장사진 → "Our Projects" 섹션 (신뢰도)
- 제품 단독샷 추가 (스마트�폰 직접 촬영, 깔끔한 배경)
- 레이아웃으로 승부 (여백, 큰 타이포, 애니메이션)
- 이유: B2B는 B2C와 다름 - 현장사진=포트폴리오 증명, 제품사진=품질 프리미엄

**Chris 반응**: 고민 중 (방향 미정)

## 3D 렌더링 역량 논의
**Chris 질문**: "3d 렌더링 너는 못해?"

**역량 체크**:
- ✅ **웹 3D 인터랙티브** (Three.js) - 제품 360도 회전, 실시간 렌더링 가능
- ⚠️ **파라메트릭 모델링** (OpenSCAD) - 단순 기하학적 형상만, 디테일 제한적
- ❌ **포토리얼 렌더링** (Blender/Cycles) - 전문 도구 필요, 아티스트 영역

**제안한 옵션**:
1. **Three.js 인터랙티브 뷰어** (1-2일) - 웹에서 제품 회전/확대, 차별화 요소
2. **AI 이미지 보정** (즉시 가능) - 현재 사진 배경 제거/조명 보정
3. **전문가 외주** ($500-$2K) - Fiverr/Upwork, 내가 브리핑/관리

**추천**: AI 보정 + Three.js 조합 (현실적 + 차별화)

**상태**: Chris 반응 대기

## Context Audit (Performance Optimization)
**Chris request**: "Audit every file that loads into your context each message"

**Current state**:
- Total: 17,846 bytes (~4,461 tokens per message)
- AGENTS.md: 9,517 bytes (biggest offender)
- MEMORY.md: 4,663 bytes
- SOUL.md: 1,673 bytes
- Others: <1KB each

**Key findings**:
1. **AGENTS.md bloat** (63% reduction possible):
   - Platform formatting rules → should be skill
   - Heartbeat vs Cron (8 paragraphs) → cron skill has this
   - 5 group examples → move to CONTEXT-RULES.md
   - Group chat etiquette 40+ lines → compress to 10

2. **MEMORY.md redundancy** (40% reduction):
   - Project details duplicated in README files
   - Outdated paths (workspace/blog → business/roturn/blog)
   - Should reference READMEs, not duplicate content

3. **TOOLS.md empty** (77% reduction):
   - Entire file is template with NO actual data
   - Should be 1-2 lines

4. **USER.md duplication** (43% reduction):
   - Company info already in MEMORY.md
   - Keep only: name, timezone, sleep pattern

**Projected cleanup**:
- After: 8,350 bytes (~2,088 tokens)
- **Savings: 2,373 tokens (53%) per message**
- **Cost: ~$35-50/month saved** at Sonnet 4 rates

**Recommended actions**:
1. Create CONTEXT-RULES.md (group loading rules)
2. Trim AGENTS.md 60%
3. Compress MEMORY.md (reference READMEs)
4. Empty TOOLS.md
5. Compress USER.md

**Status**: Audit complete, awaiting Chris approval to execute cleanup
